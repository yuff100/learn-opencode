# v1.1.41：多项修复和改进，中文本地化增强

**发布日期**：2026年01月29日

---

## 一句话总结

这次更新修复了多个问题，改进了中文本地化体验，增强了工具功能和响应性。

---

## 问题修复：Kimi K2.5 模型参数问题

### 之前的问题

Kimi K2.5 模型的 maxOutputTokens 参数被错误地硬编码为 undefined，导致在某些推理提供商上出现问题。

### 现在的情况

感谢社区贡献者 @ideallove 的修复，现在 maxOutputTokens 参数可以正确设置，Kimi K2.5 模型可以在所有提供商上正常工作。

---

## 问题修复：缓存冲突

### 之前的问题

SDK 缓存键没有包含提供商 ID，导致不同提供商之间可能发生缓存冲突。

### 现在的情况

感谢社区贡献者 @saba-ch 的修复，现在缓存键包含提供商 ID，确保不同提供商的缓存不会相互干扰。

---

## 问题修复：中文本地化问题

### 之前的问题

- 中文标点符号显示不正确
- 缺失中文翻译键时会回退到英文

### 现在的情况

感谢社区贡献者 @MaxMiksa 的修复：
- 标点符号现在显示正确
- 缺失的中文翻译键已被填充，确保界面完全中文化

---

## 新功能：文件标签改进

### 这次更新了什么？

- 文件标签现在会在打开时自动滚动到可见区域
- 支持鼠标滚轮滚动文件标签

### 如何使用？

当文件标签过多时：
- 打开文件会自动滚动到该标签
- 使用鼠标滚轮可以快速浏览所有标签

---

## 新功能：AbortSignal 支持

### 这次更新了什么？

Ripgrep.files() 和 GlobTool 现在支持 AbortSignal，可以更好地控制文件搜索操作。

### 如何使用？

在文件搜索时传递 AbortSignal，可以在需要时取消搜索操作，提高控制能力。

---

## 新功能：音频文件支持

### 这次更新了什么？

现在允许在 Content Security Policy 中使用 data: URL 加载小型音频文件。

### 对你的影响

可以在界面中使用音频文件而无需外部服务器，提高自包含性。

---

## 问题修复：设置响应性

### 之前的问题

在移动端或小屏幕设备上，设置界面的响应性不够好。

### 现在的情况

改进了设置界面的响应性，现在在各种屏幕尺寸上都能良好显示。

---

## 问题修复：对话框对齐

### 之前的问题

对话框中的元素对齐和间距不正确。

### 现在的情况

修复了对齐和间距问题，对话框现在更加美观和易用。

---

## 问题修复：KaTeX 数学公式

### 之前的问题

KaTeX 内联数学公式后跟随标点符号时显示异常。

### 现在的情况

修复了这个问题，数学公式后可以正常跟随标点符号。

---

## 要不要升级？

| 情况 | 建议 |
|------|------|
| 使用 Kimi K2.5 模型 | ✅ 强烈推荐（修复关键问题） |
| 使用中文界面 | ✅ 推荐升级（本地化改进） |
| 使用 Desktop 版 | ✅ 推荐升级（多项改进） |
| 用得好好的 | 可以等下次 |

**升级命令**：

```bash
opencode upgrade
```

---

## 技术细节（可跳过）

<details>
<summary>点击展开完整更新列表</summary>

### Core
- Ensure variants for Copilot models work with maxTokens being set
- Fixed maxOutputTokens being accidentally hardcoded to undefined which caused kimi-k2.5 issues on some inference providers (@ideallove)
- Include provider ID in SDK cache key to prevent cache collisions (@saba-ch)
- Allow media-src data: URL for small audio files in Content Security Policy (@tanapok)
- Update experimental environment variables in CLI documentation (@bbabou)
- Add ctx.abort to grep tool
- Add AbortSignal support to Ripgrep.files() and GlobTool (@goniz)

### Desktop
- Make settings more responsive for mobile and small web/desktop (@DNGriffin)
- Fixed type errors in app package (@Brendonovich)
- Auto scroll to file tabs on open and enable mouse wheel scrolling (@alexyaroshuk)
- Remove duplicate keys causing TypeScript failures (@eXamadeus)
- Normalize Chinese punctuation for Chinese UI (@MaxMiksa)
- Fill missing Chinese translation keys to avoid English fallback (@MaxMiksa)
- Fix alignment and padding in dialogs (@alexyaroshuk)

**Thank you to 12 community contributors:**

@R44VC0RP:
- fix(script): remove highlights template from release notes (#11052)

@zerone0x:
- fix(ui): allow KaTeX inline math to be followed by punctuation (#11033)

@alexyaroshuk:
- fix(app): alignment and padding in dialogs (#10866)
- fix(app): file tabs - auto scroll on open & scroll via mouse wheel (#11070)

@MaxMiksa:
- fix(app): fill missing zh keys to avoid English fallback (#10841)
- fix(opencode): normalize zh punctuation for Chinese UI (#10842)
- fix(ui): improve zh duration display formatting (#10844)

@goniz:
- fix(opencode): add AbortSignal support to Ripgrep.files() and GlobTool (#10833)

@eXamadeus:
- fix(typescript errors): remove duplicate keys causing typescript failures (#11071)

@Brendonovich:
- fix(app): types

@bbabou:
- docs: update experimental environment variables in CLI docs (#11030)

@DNGriffin:
- fix(app): make settings more responsive for mobile and small web/desktop (#10775)

@tanapok:
- fix(opencode): allow media-src data: URL for small audio files (#11082)

@saba-ch:
- fix(provider): include providerID in SDK cache key (#11020)

@ideallove:
- fix: maxOutputTokens was accidentally hardcoded to undefined  (#10995)

</details>

---

[← 返回更新日志](./index.md)
