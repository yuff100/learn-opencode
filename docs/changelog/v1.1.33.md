# v1.1.33：新增 GitLab Duo 支持，改善项目体验

**发布日期**：2026年01月23日

---

## 一句话总结

这次更新为 Google Vertex Anthropic 添加了思考预设，支持了 GitLab Duo 模型，并改善了项目的添加、重命名等体验。

---

## 新功能：GitLab Duo 模型支持

### 这次更新了什么？

OpenCode 现在支持 **GitLab Duo** 模型了！GitLab Duo 是基于 OpenAI 的 AI 编程助手，可以在 GitLab 环境中提供代码补全、代码生成等功能。

### GitLab Duo 是什么？

GitLab Duo 是 GitLab 提供的 AI 辅助编程服务，可以帮助开发者：
- 生成代码
- 解释代码
- 代码审查
- 优化代码

### 如何使用？

1. 打开 **Settings** (设置)
2. 找到 **Model** (模型设置)
3. 选择或配置 GitLab Duo 提供商
4. 输入你的 API 密钥
5. 开始使用！

---

## 功能改进：Google Vertex Anthropic 思考预设

### 这次更新了什么？

为 Google Vertex 的 Anthropic 提供商添加了**思考预设**（thinking presets）。

### 这有什么用？

思考预设可以让 Claude 模型：
- 在复杂任务中先"思考"再输出
- 更好地分解问题和规划解决方案
- 提高代码生成的准确性

### 如何启用？

在使用 Google Vertex Anthropic 模型时，思考预设会自动应用，无需手动配置。

---

## 体验改进：项目添加和重命名

### 之前的问题

- 只能从特定深度的目录添加项目
- 无法添加根目录的项目
- 非 git 项目无法重命名

### 现在的情况

现在你可以：
- 从任意目录深度的文件夹添加项目
- 直接从根目录添加项目
- 重命名非 git 仓库项目
- 项目图标颜色闪烁问题已修复

### 如何使用？

**添加项目**：
1. 点击 **Add Project**
2. 浏览任意深度的文件夹
3. 选择要添加的项目

**重命名项目**（仅非 git 项目）：
1. 在项目列表中右键点击项目
2. 选择 **Rename** (重命名)
3. 输入新名称

---

## 体验改进：文件夹补全更完整

### 这次更新了什么？

修复了文件夹补全功能中缺少路径最后一部分的问题。

### 这有什么好处？

在输入路径时，自动补全会显示完整的文件夹名称，更方便你选择目标文件夹。

---

## 体验改进：补全优先级优化

### 这次更新了什么？

在 TUI 中为模糊搜索添加了权重，保持标题优先级。

### 这有什么好处？

搜索时，匹配标题的结果会排在更靠前的位置，让你更快找到需要的内容。

---

## 新功能：在权限界面显示文件路径

### 这次更新了什么？

在 `apply_patch` 请求的权限界面中，现在会显示文件路径。

### 这有什么好处？

当 AI 请求修改文件时，你可以清楚地看到将要修改哪个文件，更安全地授权操作。

---

## 新功能：显示应用版本

### 这次更新了什么？

在设置界面中添加了应用版本显示。

### 如何查看？

1. 打开 **Settings** (设置)
2. 查看界面底部或关于部分
3. 可以看到当前运行的 OpenCode 版本号

---

## 要不要升级？

| 情况 | 建议 |
|------|------|
| 使用 GitLab | ✅ **推荐升级** (支持 Duo 模型) |
| 使用 Google Vertex Anthropic | ✅ 推荐升级 (思考预设) |
| 经常添加/管理项目 | ✅ 推荐升级 (体验改善) |
| 用得好好的 | 可以等下次 |

**升级命令**：

```bash
opencode upgrade
```

---

## 技术细节（可跳过）

<details>
<summary>点击展开完整更新列表</summary>

### Core
- Add thinking presets for Google Vertex Anthropic provider (@zerone0x)
- Added support for OpenAI-based GitLab Duo models (@vglafirov)
- Show file path in apply_patch request permission screen (@iltenahmet)

### TUI
- Add weight to fuzzy search to maintain title priority in TUI (@IdrisGit)

### Desktop
- Session shouldn't be keyed
- Flash of fallback icon for projects fixed
- Fix project icon color flash on load
- Fixed folder suggestions missing last part in path completion
- Allow adding projects from any directory depth
- Allow adding projects from root directory in the app
- Non-git projects can now be renamed
- Add app version display to settings (@alexyaroshuk)

**Thank you to 5 community contributors:**
- @iltenahmet:
  - fix(ui): show file path in apply_patch request permission screen (#10079)
- @alexyaroshuk:
  - feat(app): add app version display to settings (#10095)
- @IdrisGit:
  - fix(tui): add weight to fuzzy search to maintain title priority (#10106)
- @vglafirov:
  - feat(gitlab): Added support for OpenAI based GitLab Duo models (#10108)
- @zerone0x:
  - fix(provider): add thinking presets for Google Vertex Anthropic (#9953)

</details>

---

[← 返回更新日志](./index.md)
